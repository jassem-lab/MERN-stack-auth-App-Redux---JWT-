{"version":3,"sources":["components/Navbar/index.jsx","components/Landing/index.jsx","utils/setAuthToken.js","actions/authActions.js","actions/types.js","components/auth/Register.js","components/auth/Login.js","reducers/authReducer.js","reducers/errorReducer.js","reducers/index.js","store.js","components/private-route/PrivateRoute.js","pages/dashboard/index.js","App.js","index.js"],"names":["Navbar","className","to","style","fontFamily","Component","Landing","height","width","borderRadius","letterSpacing","setAuthToken","token","axios","defaults","headers","common","setCurrentUser","decoded","type","payload","logoutUser","dispatch","localStorage","removeItem","Register","onChange","e","setState","target","id","value","onSubmit","preventDefault","newUser","name","state","email","password","password2","console","log","props","registerUser","history","errors","this","auth","isAuthenticated","push","nextProps","paddingLeft","noValidate","error","classnames","invalid","htmlFor","marginTop","connect","userData","post","then","res","catch","err","response","data","withRouter","Login","loginUser","emailnotfound","passwordincorrect","setItem","jwt_decode","isEmpty","require","initialState","user","loading","combineReducers","action","middleware","thunk","store","createStore","rootReducer","compose","applyMiddleware","window","__REDUX_DEVTOOLS_EXTENSION__","component","rest","render","Dashboard","onLogoutClick","split","onClick","jwtToken","currentTime","Date","now","exp","alert","location","href","App","exact","path","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6b8cbb5e.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from \"react-router-dom\";\n\n\nclass Navbar extends Component {\n    render() {\n        return (\n            <div className=\"navbar-fixed\">\n                <nav className=\"z-depth-0\">\n                    <div className=\"nav-wrapper white\">\n                        <Link to=\"/\" style={{fontFamily: \"monospace\"}} className=\"col s5 brand-logo center black-text\">Code</Link>\n                    </div>\n                </nav>\n            </div>\n        )\n    }\n}\n\nexport default Navbar","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\nclass Landing extends Component {\n    render() {\n        return (\n            <div style={{ height: \"75vh\"}} className=\"container valign-wrapper\">\n                <div className=\"row\">\n                    <div className=\"col s12 center-align\">\n                        <h4>\n                            <b>Build</b> a login/auth app with the{\" \"}\n                            <span style={{ fontFamily: \"monospace\"}}>MERN</span>\n                            stack from scratch\n                        </h4>\n                        <p className=\"flow-text grey-text text-darken-1\">\n                            Create a (minimal) full-stack app with user authentication via passport and JWTs\n                        </p>\n                        <br />\n                        <div className=\"col s6\">\n                            <Link to=\"/register\" style={{width: \"140px\", borderRadius: \"3px\", letterSpacing: \"1.5px\"}} className=\"btn btn-large waves-effect waves-light hoverable blue accent-3\">Register</Link>\n                        </div>\n                        <div className=\"col s6\">\n                            <Link to=\"/login\" style={{width: \"140px\", borderRadius: \"3px\", letterSpacing: \"1.5px\"}} className=\"btn btn-large btn-flat waves-effect white black-text\">Login</Link>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Landing","import axios from 'axios'\n\nconst setAuthToken = token => {\n    if (token) {\n        // Apply Authorization token to every request if logged in\n        axios.defaults.headers.common[\"Authorization\"] = token\n    } else {\n        // Delete Auth Header\n        delete axios.defaults.headers.common[\"Authoroization\"];\n    }\n}\n\nexport default setAuthToken","import axios from 'axios';\nimport setAuthToken from '../utils/setAuthToken';\nimport jwt_decode from 'jwt-decode';\nimport { GET_ERRORS, SET_CURRENT_USER, USER_LOADING } from './types'\n\n// Register the user\nexport const registerUser = (userData, history) => dispatch => {\n    // Redirects to login on successful registration\n    axios.post(\"/api/users/register\", userData).then(res => history.push(\"/login\")).catch(err => dispatch({ type: GET_ERRORS, payload: err.response.data }))\n}\n\n// Login - Gets User Token\nexport const loginUser = userData => dispatch => {\n    axios.post(\"/api/users/login\", userData).then(res => {\n        // Saves Token to localStorage and Sets Token\n        const { token } = res.data\n        localStorage.setItem(\"jwtToken\", token)\n\n        // Set Token to Auth Header\n        setAuthToken(token);\n\n        // Decode Token to get userData\n        const decoded = jwt_decode(token);\n\n        // Set Current User\n        dispatch(setCurrentUser(decoded))\n    }).catch(err => dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n    }))\n}\n\n// Set Logged In User\nexport const setCurrentUser = decoded => {\n    return {\n        type: SET_CURRENT_USER,\n        payload: decoded\n    }\n}\n\n// Loading User\nexport const setUserLoading = () => {\n    return {\n        type: USER_LOADING\n    }\n}\n\n// Log User Out\nexport const logoutUser = () => dispatch => {\n    // Remove Token from localStorage\n    localStorage.removeItem(\"jwtToken\");\n\n    // Remove Auth Header\n    setAuthToken(false);\n\n    // Set current user to empty object\n    dispatch(setCurrentUser({}));\n}","export const GET_ERRORS = \"GET_ERRORS\";\nexport const USER_LOADING = \"USER_LOADING\";\nexport const SET_CURRENT_USER = \"SET_CURRENT_USER\";","import React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { MdKeyboardBackspace } from \"react-icons/md\";\nimport { connect } from 'react-redux';\nimport { registerUser } from '../../actions/authActions';\nimport classnames from 'classnames';\nimport PropTypes from \"prop-types\";\n\nclass Register extends Component {\n    constructor() {\n        super();\n        this.state = {\n            name: \"\",\n            email: \"\",\n            password: \"\",\n            password2: \"\",\n            errors: {}\n        }\n\n    }\n    \n    componentDidMount() {\n        // If logged in and user navigates to Register Page, it should redirect to dashboard\n        if (this.props.auth.isAuthenticated) {\n            this.props.history.push(\"/dashboard\")\n        }\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.errors) {\n            this.setState({\n                errors: nextProps.errors\n            });\n        }\n    }\n\n    onChange = e => {\n        this.setState({ [e.target.id]: e.target.value})\n    }\n    \n    onSubmit = e => {\n        e.preventDefault();\n\n        const newUser = {\n            name: this.state.name,\n            email: this.state.email,\n            password: this.state.password,\n            password2: this.state.password2\n        }\n\n        console.log(newUser)\n\n        this.props.registerUser(newUser, this.props.history);\n    }\n\n    render() {\n        const { errors } = this.state\n\n        return (\n            <div className=\"container\">\n                <div className=\"row\">\n                    <div className=\"col s8 offset-s2\">\n                        <Link to=\"/\" className=\"btn-flat waves-effect\"><MdKeyboardBackspace /> Back To Home</Link>\n                    </div>\n                    <div className=\"col s12\" style={{ paddingLeft: \"11.250px\"}}>\n                        <h4>\n                            <b>Register</b> below\n                        </h4>\n                        <p className=\"grey-text text-darken-1\">Already have an account? <Link to=\"/login\">Log In</Link></p>\n                    </div>\n                    <form noValidate onSubmit={this.onSubmit}>\n                        <div className=\"input-field col s12\">\n                            <input onChange={this.onChange} value={this.state.name} error={errors.name} id=\"name\" type=\"text\" className={classnames(\"\", { invalid: errors.name })} />\n                            <label htmlFor=\"name\">Name</label>\n                            <span className=\"red-text\">{errors.name}</span>\n                        </div>\n                        <div className=\"input-field col s12\">\n                            <input onChange={this.onChange} value={this.state.email} error={errors.email} id=\"email\" type=\"email\" className={classnames(\"\", { invalid: errors.email })} />\n                            <label htmlFor=\"email\">Email</label>\n                            <span className=\"red-text\">{errors.email}</span>\n                        </div>\n                        <div className=\"input-field col s12\">\n                            <input onChange={this.onChange} value={this.state.password} error={errors.password} id=\"password\" type=\"password\" className={classnames(\"\", { invalid: errors.password })} />\n                            <label htmlFor=\"password\">Password</label>\n                            <span className=\"red-text\">{errors.password}</span>\n                        </div>\n                        <div className=\"input-field col s12\">\n                            <input onChange={this.onChange} value={this.state.password2} error={errors.password2} id=\"password2\" type=\"password\" className={classnames(\"\", { invalid: errors.password2 })}/>\n                            <label htmlFor=\"password2\">Confirm Password</label>\n                            <span className=\"red-text\">{errors.password2}</span>\n                        </div>\n                        <div className=\"col s12\" style={{paddingLeft: \"11.250px\"}}>\n                            <button style={{width: \"150px\", borderRadius: \"3px\", letterSpacing: \"1.5px\", marginTop: \"1rem\"}} className=\"btn btn-large waves-effect waves-light hoverable blue accent-3\">\n                                Sign Up\n                            </button>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        )\n    }\n}\n\nRegister.propTypes = {\n    registerUser: PropTypes.func.isRequired,\n    auth: PropTypes.object.isRequired,\n    errors: PropTypes.object.isRequired\n}\n\nconst mapStateToProps = state => ({\n    auth: state.auth,\n    errors: state.errors\n})\n\nexport default connect(\n    mapStateToProps,\n    { registerUser }\n) (withRouter(Register))","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { MdKeyboardBackspace } from \"react-icons/md\";\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { loginUser } from '../../actions/authActions';\nimport classnames from 'classnames'\n\nclass Login extends Component {\n    constructor() {\n        super();\n        this.state = {\n            email: \"\",\n            password: \"\",\n            errors: {}\n        }\n    }\n\n    componentDidMount() {\n        // If logged in and user navigates to Login Page, it should redirect to dashboard\n        if (this.props.auth.isAuthenticated) {\n            this.props.history.push(\"/dashboard\")\n        }\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.auth.isAuthenticated) {\n            this.props.history.push(\"/dashboard\") //push user to dashboard when sucessfully logged in.\n        }\n\n        if (nextProps.errors) {\n            this.setState({\n                errors: nextProps.errors\n            })\n        }\n    }\n\n    onChange = e => {\n        this.setState({ [e.target.id]: e.target.value });\n    }\n\n    onSubmit = e => {\n        e.preventDefault();\n\n        const userData = {\n            email: this.state.email,\n            password: this.state.password\n        }\n\n        this.props.loginUser(userData)\n\n        console.log(userData)\n    }\n\n    render() {\n\n        const { errors } = this.state\n\n        return (\n          <div className=\"container\">\n            <div style={{ marginTop: \"4rem\" }} className=\"row\">\n              <div className=\"col s8 offset-s2\">\n                <Link to=\"/\" className=\"btn-flat waves-effect\"><MdKeyboardBackspace/> Back to home</Link>\n                <div className=\"col s12\" style={{ paddingLeft: \"11.250px\" }}>\n                  <h4>\n                    <b>Login</b> below\n                  </h4>\n                  <p className=\"grey-text text-darken-1\">\n                    Don't have an account? <Link to=\"/register\">Register</Link>\n                  </p>\n                </div>\n                <form noValidate onSubmit={this.onSubmit}>\n                  <div className=\"input-field col s12\">\n                    <input onChange={this.onChange} value={this.state.email} error={errors.email} id=\"email\" type=\"email\" className={classnames(\"\", { invalid: errors.email || errors.emailnotfound})}/>\n                    <label htmlFor=\"email\">Email</label>\n                    <span className=\"red-text\">\n                        {errors.email}\n                        {errors.emailnotfound}\n                    </span>\n                  </div>\n                  <div className=\"input-field col s12\">\n                    <input onChange={this.onChange} value={this.state.password} error={errors.password} id=\"password\" type=\"password\" className={classnames(\"\", { invalid: errors.password || errors.passwordincorrect})}/>\n                    <label htmlFor=\"password\">Password</label>\n                    <span className=\"red-text\">\n                        {errors.password}\n                        {errors.passwordincorrect}\n                    </span>\n                  </div>\n                  <div className=\"col s12\" style={{ paddingLeft: \"11.250px\" }}>\n                    <button style={{ width: \"150px\", borderRadius: \"3px\", letterSpacing: \"1.5px\", marginTop: \"1rem\"}} type=\"submit\" className=\"btn btn-large waves-effect waves-light hoverable blue accent-3\">\n                      Login\n                    </button>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </div>\n        );\n    }\n}\n\nLogin.propTypes = {\n    loginUser: PropTypes.func.isRequired,\n    auth: PropTypes.object.isRequired,\n    errors: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n    auth: state.auth,\n    errors: state.errors\n});\n\nexport default connect(\n    mapStateToProps,\n    { loginUser }\n)(Login);","import { SET_CURRENT_USER, USER_LOADING } from '../actions/types';\n\nconst isEmpty = require('is-empty');\n\nconst initialState = {\n    isAuthenticated: false,\n    user: {},\n    loading: false\n}\n\nexport default function(state = initialState, action) {\n    switch (action.type) {\n        case SET_CURRENT_USER:\n            return {\n                ...state,\n                isAuthenticated: !isEmpty(action.payload),\n                user: action.payload\n            };\n        case USER_LOADING:\n            return {\n                ...state,\n                loading: true\n            }\n        default:\n            return state;\n    }\n}","import { GET_ERRORS } from '../actions/types';\n\nconst initialState = {};\n\nexport default function(state = initialState, action) {\n    switch (action.type) {\n        case GET_ERRORS:\n            return action.payload\n        default:\n            return state;\n    }\n}","import { combineReducers } from 'redux';\nimport authReducer from './authReducer';\nimport errorReducer from './errorReducer';\n\nexport default combineReducers({\n    auth: authReducer,\n    errors: errorReducer\n})","import { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from \"redux-thunk\";\nimport rootReducer from './reducers';\n\nconst initialState = {};\n\nconst middleware = [thunk]\n\nconst store = createStore(\n    rootReducer,\n    initialState,\n    compose(\n        applyMiddleware(...middleware),\n        window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n    )\n)\n\nexport default store","import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\n\nconst PrivateRoute = ({ component: Component, auth, ...rest }) => (\n    <Route {...rest} render={props => auth.isAuthenticated === true ? ( <Component {...props} /> ) : (<Redirect to=\"/login\" /> )} />\n);\n\nPrivateRoute.propTypes = {\n    auth: PropTypes.object.isRequired\n}\n\nconst mapStateToProps = state => ({\n    auth: state.auth\n})\n\nexport default connect(mapStateToProps)(PrivateRoute);","import React, { Component } from 'react';\nimport PropTypes from \"prop-types\";\nimport { connect } from 'react-redux';\nimport { logoutUser } from '../../actions/authActions';\n\nclass Dashboard extends Component {\n\n    onLogoutClick = e => {\n        e.preventDefault();\n        this.props.logoutUser();\n    }\n\n    render() { \n\n        const { user } = this.props.auth;\n\n        return ( \n            <div style={{ height: \"75vh\" }} className=\"container valign-wrapper\">\n                <div className=\"row\">\n                    <div className=\"col s12 center-align\">\n                        <h4>\n                            <b>Hey there,</b> {user.name.split(\" \")[0]}\n                            <p className=\"flow-text grey-text text-darken-1\">\n                                You are logged into a full-stack{\" \"}<span style={{fontFamily: \"monospace\"}}>MERN</span>app\n                            </p>\n                        </h4>\n                        <button style={{width: \"150px\", borderRadius: \"3px\", letterSpacing: \"1.5px\", marginTop: \"1rem\"}} onClick={this.onLogoutClick} className=\"btn btn-large waves-effect waves-light hoverable blue accent-3\">\n                            Logout\n                        </button>\n                    </div>\n                </div>\n            </div>\n         );\n    }\n}\n\nDashboard.propTypes = {\n    logoutUser: PropTypes.func.isRequired,\n    auth: PropTypes.object.isRequired\n}\n\nconst mapStateToProps = state => ({\n    auth: state.auth\n})\n \nexport default connect(\n    mapStateToProps,\n    { logoutUser }\n)(Dashboard);","import React from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport Navbar from './components/Navbar';\nimport Landing from './components/Landing';\nimport Register from './components/auth/Register';\nimport Login from './components/auth/Login';\nimport { Provider } from \"react-redux\";\nimport store from './store'\nimport jwt_decode from \"jwt-decode\";\nimport setAuthToken from \"./utils/setAuthToken\";\nimport { setCurrentUser, logoutUser } from './actions/authActions';\nimport PrivateRoute from './components/private-route/PrivateRoute';\nimport Dashboard from \"./pages/dashboard/\"\nimport './App.css';\n\n// Check localStorage for token to keep user logged in\nif (localStorage.jwtToken) {\n  // Set auth token header auth\n  const token = localStorage.jwtToken\n  setAuthToken(token)\n  // Decode token and get user info and exp\n  const decoded = jwt_decode(token)\n  // Set user and isAuthenticated\n  store.dispatch(setCurrentUser(decoded))\n\n  // Checks for an iexpired token\n  const currentTime = Date.now() / 1000;\n  if (decoded.exp < currentTime) {\n    alert(\"Your session has expired. Please login again\")\n    //Logout User\n    store.dispatch(logoutUser());\n    // Redirect to Login\n    window.location.href = \"./login\"\n  }\n}\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <Router>\n        <div className=\"App\">\n          <Navbar/>\n          <Route exact path=\"/\" component={Landing}/>\n          <Route exact path=\"/register\" component={Register}/>\n          <Route exact path=\"/login\" component={Login}/>\n          <Switch>\n            <PrivateRoute exact path=\"/dashboard\" component={Dashboard} />\n          </Switch>\n        </div>\n      </Router>\n    </Provider>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}